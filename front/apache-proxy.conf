# Add this to your Apache virtual host configuration
# or create a separate .conf file in /etc/apache2/sites-available/

<VirtualHost *:80>
    ServerName aidemo.in
    
    # Laravel admin panel
    DocumentRoot /var/www/html/nwb2b/admin/public
    <Directory /var/www/html/nwb2b/admin/public>
        AllowOverride All
        Require all granted
    </Directory>
    
    # React app proxy
    ProxyPreserveHost On
    ProxyPass /nwb2b/front/ http://localhost:3000/
    ProxyPassReverse /nwb2b/front/ http://localhost:3000/
    
    # Optional: Redirect to HTTPS
    RewriteEngine On
    RewriteCond %{HTTPS} off
    RewriteRule ^(.*)$ https://%{HTTP_HOST}%{REQUEST_URI} [L,R=301]
</VirtualHost>

<VirtualHost *:443>
    ServerName aidemo.in
    
    # SSL Configuration
    SSLEngine on
    SSLCertificateFile /path/to/your/certificate.crt
    SSLCertificateKeyFile /path/to/your/private.key
    
    # Laravel admin panel
    DocumentRoot /var/www/html/nwb2b/admin/public
    <Directory /var/www/html/nwb2b/admin/public>
        AllowOverride All
        Require all granted
    </Directory>
    
    # React app proxy
    ProxyPreserveHost On
    ProxyPass /nwb2b/front/ http://localhost:3000/
    ProxyPassReverse /nwb2b/front/ http://localhost:3000/
</VirtualHost>
